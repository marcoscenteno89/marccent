{"ast":null,"code":"var _jsxFileName = \"/home/marcos/app/marccent/client/src/components/mini-app/temperature.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { ThemeContext } from \"../var\";\nimport JwPagination from 'jw-react-pagination';\nimport ValidForm from 'react-valid-form-component';\nimport \"../../styles/mini-app/Temperature.scss\";\nimport '../../styles/keyframes.scss';\nimport { Today, Img, SpCircle, GetMode } from \"../inc/inc\";\nimport { Clock } from \"../inc/inc-classes\";\nimport Maps from \"../map\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst openWeather = `${process.env.REACT_APP_OPENWEATHERURL}data/2.5/forecast`;\nconst token = `&units=imperial&appid=${process.env.REACT_APP_OPENWEATHER}`;\n\nclass Temperature extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: false,\n      city: false\n    };\n\n    this.onClick = () => this.update();\n\n    this.onChange = e => this.setState({\n      query: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      query: 'Idaho Falls'\n    }, () => this.update());\n  }\n\n  async update() {\n    const res = await fetch(`${openWeather}?q=${this.state.query}${token}`);\n    const data = await res.json();\n\n    if (data.cod === \"200\") {\n      this.setState({\n        city: data\n      });\n    }\n  }\n\n  render() {\n    if (!this.state.city) return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 36\n    }, this);\n    const a = this.context.theme;\n    const e = this.state.city;\n    const sec = {\n      background: a.mode\n    };\n    const bg = {\n      background: a.grad,\n      color: a.hex.light\n    };\n    const input = {\n      border: `solid 1px ${a.hex.primary}`,\n      backgroundColor: a.mode\n    };\n    const mapData = {\n      loc: {\n        lat: e.city.coord.lat,\n        lng: e.city.coord.lon\n      },\n      zoom: 11\n    };\n    let background = `container flex-row${a.glass ? ' glass' : ''}`;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"temp flex-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: background,\n        style: sec,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header flex-row w-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: e.city.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Population: \", e.city.population]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ValidForm, {\n            nosubmit: true,\n            onSubmit: e => this.onClick(),\n            className: \"flex-col contact-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"city\",\n              type: \"text\",\n              required: true,\n              placeholder: this.state.query,\n              style: input,\n              onChange: this.onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: bg,\n              type: \"submit\",\n              children: \"Send Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-50 flex-col\",\n          style: {\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TempCir, {\n            temp: e.list[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"map-size\",\n            style: {\n              marginTop: '2rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(Maps, {\n              mapData: mapData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Weather History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(WeatherHistory, {\n            list: e.list\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nTemperature.contextType = ThemeContext;\n\nclass WeatherHistory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: this.props.list,\n      pageOfItems: []\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      items: props.list\n    });\n  }\n\n  onChangePage(pageOfItems) {\n    this.setState({\n      pageOfItems: pageOfItems\n    }); // update local state with new page of items\n  }\n\n  render() {\n    if (this.context.theme.id === 0) return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 45\n    }, this);\n    const a = this.context.theme;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-row history\",\n      children: [this.state.pageOfItems.map((item, index) => /*#__PURE__*/_jsxDEV(List, {\n        data: a,\n        item: item\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(JwPagination, {\n        pageSize: 8,\n        items: this.state.items,\n        onChangePage: this.onChangePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nWeatherHistory.contextType = ThemeContext;\n\nclass List extends Component {\n  render() {\n    if (this.context.theme.id === 0) return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 45\n    }, this);\n    const a = this.context.theme;\n    const o = this.props.item;\n    const icon = `${process.env.REACT_APP_OPENWEATHERURL}img/w/${o.weather[0].icon}.png`;\n    const bg = {\n      background: a.grad,\n      color: a.hex.light\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-outer shadow-s\",\n      style: {\n        background: a.mode\n      },\n      children: /*#__PURE__*/_jsxDEV(\"details\", {\n        style: bg,\n        className: \"list-inner shadow-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              display: 'inline-block'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex-row\",\n              children: [/*#__PURE__*/_jsxDEV(Img, {\n                src: icon,\n                styles: {\n                  width: '40px'\n                },\n                alt: o.weather[0].description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [o.main.temp, \"\\xB0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: o.dt_txt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Something goes here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nList.contextType = ThemeContext;\n\nclass TempCir extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      temp: this.props.temp\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      temp: props.temp\n    });\n  }\n\n  render() {\n    if (this.context.theme.id === 0) return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 45\n    }, this);\n    const a = this.context.theme;\n    const o = this.state.temp;\n    const prim = a.hex.primary;\n    const sec = a.hex.secondary;\n    const circle = {\n      circle: {\n        backgroundColor: a.mode,\n        boxShadow: 'inset 0 0 15px rgba(0,0,0,0.5)'\n      },\n      innerCircle: {\n        backgroundColor: a.mode,\n        boxShadow: 'inset 0 0 75px rgba(0,0,0,0.5)'\n      },\n      grad: {\n        backgroundImage: a.grad,\n        boxShadow: 'inset 0 0 15px rgba(0,0,0,0.5)'\n      }\n    };\n    const clockstyles = {\n      border: `1px solid ${prim}`,\n      text: prim,\n      bg: GetMode(a, '0.5')\n    };\n    console.log(clockstyles);\n    const icon = `https://openweathermap.org/img/w/${o.weather[0].icon}.png`;\n    const grad = `linear-gradient(to bottom, ${sec}, ${prim})`;\n    return /*#__PURE__*/_jsxDEV(SpCircle, {\n      styles: circle,\n      data: a,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"water\",\n        style: {\n          background: grad\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"water-circle one\",\n        style: {\n          backgroundColor: a.mode\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"water-circle two\",\n        style: {\n          backgroundColor: a.mode\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box-shadow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"temp-cont flex-col\",\n        style: {\n          color: a.rev\n        },\n        children: [/*#__PURE__*/_jsxDEV(Img, {\n          src: icon,\n          styles: {\n            width: '7rem'\n          },\n          alt: o.weather[0].description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [o.main.temp, \"\\xB0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: /*#__PURE__*/_jsxDEV(Today, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Clock, {\n          data: {\n            clockstyles\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nTempCir.contextType = ThemeContext;\nexport default Temperature;","map":{"version":3,"sources":["/home/marcos/app/marccent/client/src/components/mini-app/temperature.js"],"names":["React","Component","Fragment","ThemeContext","JwPagination","ValidForm","Today","Img","SpCircle","GetMode","Clock","Maps","openWeather","process","env","REACT_APP_OPENWEATHERURL","token","REACT_APP_OPENWEATHER","Temperature","state","query","city","onClick","update","onChange","e","setState","target","value","componentDidMount","res","fetch","data","json","cod","render","a","context","theme","sec","background","mode","bg","grad","color","hex","light","input","border","primary","backgroundColor","mapData","loc","lat","coord","lng","lon","zoom","glass","name","population","alignItems","list","marginTop","contextType","WeatherHistory","constructor","props","items","pageOfItems","onChangePage","bind","UNSAFE_componentWillReceiveProps","id","map","item","index","List","o","icon","weather","display","width","description","main","temp","dt_txt","TempCir","prim","secondary","circle","boxShadow","innerCircle","backgroundImage","clockstyles","text","console","log","rev"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { ThemeContext } from \"../var\"\nimport JwPagination from 'jw-react-pagination';\nimport ValidForm from 'react-valid-form-component';\nimport \"../../styles/mini-app/Temperature.scss\";\nimport '../../styles/keyframes.scss';\nimport { Today, Img, SpCircle, GetMode } from \"../inc/inc\";\nimport { Clock } from \"../inc/inc-classes\";\nimport Maps from \"../map\";\nconst openWeather = `${process.env.REACT_APP_OPENWEATHERURL}data/2.5/forecast`;\nconst token = `&units=imperial&appid=${process.env.REACT_APP_OPENWEATHER}`;\n\nclass Temperature extends Component {\n\n    static contextType = ThemeContext;\n    state = {\n      query: false,\n      city: false\n    }\n    \n    componentDidMount() {\n      this.setState({\n        query: 'Idaho Falls',\n      }, () => this.update());\n    }\n\n    async update() {\n      const res = await fetch(`${openWeather}?q=${this.state.query}${token}`);\n      const data = await res.json();\n      if (data.cod === \"200\") {\n        this.setState({\n          city: data\n        });\n      } \n    }\n\n    onClick = () => this.update();\n\n    onChange = (e) => this.setState({query: e.target.value});\n\n    render() {\n      if (!this.state.city) return <Fragment>Loading...</Fragment>\n      const a = this.context.theme;\n      const e = this.state.city;\n      const sec = {\n        background: a.mode,\n      }\n      const bg = {\n        background: a.grad,\n        color: a.hex.light\n      }\n      const input = {\n        border: `solid 1px ${a.hex.primary}`,\n        backgroundColor: a.mode\n      }\n      const mapData = {\n        loc: {\n          lat: e.city.coord.lat,\n          lng: e.city.coord.lon\n        },\n        zoom: 11\n      }\n      let background = `container flex-row${a.glass ? ' glass' : ''}`;\n      return  (\n        <section className=\"temp flex-center\">\n            <div className={background} style={sec}>\n              <div className=\"header flex-row w-100\">\n                <h2>{e.city.name}</h2>\n                <h3>Population: {e.city.population}</h3>\n                <ValidForm nosubmit onSubmit={(e) => this.onClick()} className=\"flex-col contact-info\">\n                    <input \n                      name=\"city\"\n                      type=\"text\" \n                      required\n                      placeholder={this.state.query} \n                      style={input} \n                      onChange={this.onChange} \n                    />\n                    <button className=\"btn\" style={bg} type=\"submit\">Send Form</button>\n                  </ValidForm>\n              </div>\n              <div className=\"w-50 flex-col\" style={{alignItems: 'center'}}>\n                <TempCir temp={e.list[0]} />\n                <div className=\"map-size\" style={{marginTop: '2rem'}}>\n                  <Maps mapData={mapData} />\n                </div>\n              </div>\n              <div className=\"w-50\">\n                <h3>Weather History</h3>\n                <WeatherHistory list={e.list} />\n              </div>\n            </div>\n          </section>\n      )        \n    }\n}\n\nclass WeatherHistory extends Component {\n\n  static contextType = ThemeContext;\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: this.props.list,\n      pageOfItems: []\n    }\n    this.onChangePage = this.onChangePage.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      items: props.list\n    });\n  }\n  \n  onChangePage(pageOfItems) {\n    this.setState({ pageOfItems: pageOfItems }); // update local state with new page of items\n  }\n  \n  render() {\n    if (this.context.theme.id === 0) return <Fragment>Loading...</Fragment>\n    const a = this.context.theme;\n    return (\n      <div className=\"flex-row history\">\n        {this.state.pageOfItems.map((item, index) => (\n          <List key={index} data={a} item={item} />\n        ))}\n        <JwPagination pageSize={8} items={this.state.items} onChangePage={this.onChangePage} />\n      </div>\n    )\n  }\n}\n\nclass List extends Component {\n    \n  static contextType = ThemeContext;\n  render() {\n    if (this.context.theme.id === 0) return <Fragment>Loading...</Fragment>\n    const a = this.context.theme;\n    const o = this.props.item;\n    const icon = `${process.env.REACT_APP_OPENWEATHERURL}img/w/${o.weather[0].icon}.png`;\n    const bg = {\n      background: a.grad,\n      color: a.hex.light\n    }\n    return (\n      <div className=\"list-outer shadow-s\" style={{background: a.mode}}>\n        <details style={bg} className=\"list-inner shadow-xs\">\n          <summary>\n            <span style={{ display: 'inline-block'}}>\n              <span className=\"flex-row\">\n                <Img src={icon} styles={{width: '40px'}} alt={o.weather[0].description} />\n                <strong>{o.main.temp}&#176;</strong>\n                <span>{o.dt_txt}</span>\n              </span>\n            </span>\n          </summary>\n          <p>Something goes here</p>\n        </details>\n        {/* <div style={bg} className=\"list-inner shadow-xs\">\n          <div className=\"flex-row\">\n            <div className=\"image\" style={icon} />\n\n            <strong className=\"one\">{o.main.temp}&#176;</strong>\n            <div className=\"container\">\n              <div className=\"flex-row table\">\n                <span>{o.dt_txt}</span>\n              </div>\n              <div className=\"flex-row table\">\n                <span className=\"one\">Feels like: {o.main.feels_like}</span>\n                <span className=\"two\">Humidity: {o.main.humidity}</span>\n              </div>\n              <div className=\"flex-row table\">\n                <span className=\"one\">Low: {o.main.temp_min}</span>\n                <span className=\"two\">High: {o.main.temp_max}</span>\n              </div>\n            </div>\n          </div>\n        </div> */}\n      </div>\n    )\n  }\n}\n\nclass TempCir extends Component {\n\n  static contextType = ThemeContext;\n  constructor(props) {\n    super(props);\n    this.state = {\n      temp: this.props.temp\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      temp: props.temp\n    });\n  }\n\n  render() {\n    if (this.context.theme.id === 0) return <Fragment>Loading...</Fragment>\n    const a = this.context.theme;\n    const o = this.state.temp;\n    const prim = a.hex.primary;\n    const sec = a.hex.secondary;\n    const circle = {\n      circle: {\n        backgroundColor: a.mode,\n        boxShadow: 'inset 0 0 15px rgba(0,0,0,0.5)'\n      },\n      innerCircle: {\n        backgroundColor: a.mode,\n        boxShadow: 'inset 0 0 75px rgba(0,0,0,0.5)'\n      },\n      grad: {\n        backgroundImage: a.grad,\n        boxShadow: 'inset 0 0 15px rgba(0,0,0,0.5)'\n      }\n    }\n    const clockstyles = {\n      border: `1px solid ${prim}`,\n      text: prim,\n      bg: GetMode(a, '0.5')\n    }\n    console.log(clockstyles);\n    const icon = `https://openweathermap.org/img/w/${o.weather[0].icon}.png`;\n    const grad = `linear-gradient(to bottom, ${sec}, ${prim})`;\n    return (\n      <SpCircle styles={circle} data={a}>\n        <div className=\"water\" style={{ background: grad }}></div>\n        <div className=\"water-circle one\" style={{ backgroundColor: a.mode }}></div>\n        <div className=\"water-circle two\" style={{ backgroundColor: a.mode }}></div>\n        <div className=\"box-shadow\"></div>\n        <div className=\"temp-cont flex-col\" style={{color: a.rev}}>\n          <Img src={icon} styles={{width: '7rem'}} alt={o.weather[0].description} />\n          <h3>{o.main.temp}&#176;</h3>\n          <small><Today /></small>\n          <Clock data={{ clockstyles }} />\n        </div>\n      </SpCircle>\n    )\n  }\n}\nexport default Temperature;"]},"metadata":{},"sourceType":"module"}