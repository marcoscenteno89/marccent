{"ast":null,"code":"var _jsxFileName = \"/home/marcos/app/marccent/client/src/components/mini-app/temperature.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { ThemeContext } from \"../var\";\nimport JwPagination from 'jw-react-pagination';\nimport ValidForm from 'react-valid-form-component';\nimport \"../../styles/mini-app/Temperature.scss\";\nimport '../../styles/keyframes.scss';\nimport { Today, Img, SpCircle, GetMode } from \"../inc/inc\";\nimport { Clock, Accordion } from \"../inc/inc-classes\";\nimport Maps from \"../map\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst openWeather = `${process.env.REACT_APP_OPENWEATHERURL}data/2.5/forecast`;\nconst token = `&units=imperial&appid=${process.env.REACT_APP_OPENWEATHER}`;\n\nclass Temperature extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: false,\n      city: false\n    };\n\n    this.onClick = () => this.update();\n\n    this.onChange = e => this.setState({\n      query: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      query: 'Idaho Falls'\n    }, () => this.update());\n  }\n\n  async update() {\n    const res = await fetch(`${openWeather}?q=${this.state.query}${token}`);\n    const data = await res.json();\n\n    if (data.cod === \"200\") {\n      this.setState({\n        city: data\n      });\n    }\n  }\n\n  render() {\n    if (!this.state.city) return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 36\n    }, this);\n    const a = this.context.theme;\n    const e = this.state.city;\n    const sec = {\n      background: a.mode\n    };\n    const bg = {\n      background: a.grad,\n      color: a.hex.light\n    };\n    const input = {\n      border: `solid 1px ${a.hex.primary}`,\n      backgroundColor: a.mode,\n      marginRight: '3px !important'\n    };\n    const mapData = {\n      loc: {\n        lat: e.city.coord.lat,\n        lng: e.city.coord.lon\n      },\n      zoom: 11\n    };\n    let background = `container flex-row${a.glass ? ' glass' : ''}`;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"temp flex-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: background,\n        style: sec,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header flex-row w-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [e.city.name, \"'s Population: \", e.city.population]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ValidForm, {\n            nosubmit: true,\n            onSubmit: e => this.onClick(),\n            className: \"flex-row contact-info\",\n            style: {\n              flexWrap: 'nowrap'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"city\",\n              type: \"text\",\n              required: true,\n              placeholder: this.state.query,\n              style: input,\n              onChange: this.onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                width: '10px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: bg,\n              type: \"submit\",\n              children: \"Send Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-50 flex-col\",\n          style: {\n            alignItems: 'center',\n            padding: '0 3rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TempCir, {\n            temp: e.list[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"map-size\",\n            style: {\n              marginTop: '2rem',\n              height: '400px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Maps, {\n              mapData: mapData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-50\",\n          style: {\n            padding: '0 3rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Weather History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(WeatherHistory, {\n            list: e.list\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nTemperature.contextType = ThemeContext;\n\nclass WeatherHistory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: this.props.list,\n      pageOfItems: []\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      items: props.list\n    });\n  }\n\n  onChangePage(pageOfItems) {\n    this.setState({\n      pageOfItems: pageOfItems\n    }); // update local state with new page of items\n  }\n\n  render() {\n    if (this.context.theme.id === 0) return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 45\n    }, this);\n    const a = this.context.theme;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-row history\",\n      children: [this.state.pageOfItems.map((item, index) => /*#__PURE__*/_jsxDEV(List, {\n        data: a,\n        item: item\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(JwPagination, {\n        pageSize: 10,\n        items: this.state.items,\n        onChangePage: this.onChangePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nWeatherHistory.contextType = ThemeContext;\n\nclass List extends Component {\n  render() {\n    if (this.context.theme.id === 0) return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 45\n    }, this);\n    const a = this.context.theme;\n    const o = this.props.item;\n    const icon = `${process.env.REACT_APP_OPENWEATHERURL}img/w/${o.weather[0].icon}.png`;\n    const bg = {\n      background: a.grad,\n      color: a.hex.light\n    };\n    console.log(o);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-outer shadow-s\",\n      style: {\n        background: a.mode\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: bg,\n        className: \"list-inner shadow-xs\",\n        children: /*#__PURE__*/_jsxDEV(Accordion, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"head-content\",\n            children: [/*#__PURE__*/_jsxDEV(Img, {\n              src: icon,\n              styles: {\n                width: '40px'\n              },\n              alt: o.weather[0].description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [o.main.temp, \"\\xB0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: o.dt_txt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"body-content flex-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '50%',\n                padding: '0.5rem'\n              },\n              className: \"flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Low: \", o.main.temp_min]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"High: \", o.main.temp_max]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Feels like: \", o.main.feels_like]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '50%',\n                padding: '0.5rem'\n              },\n              className: \"flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: o.weather[0].description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Humidity: \", o.main.humidity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nList.contextType = ThemeContext;\n\nclass TempCir extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      temp: this.props.temp\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      temp: props.temp\n    });\n  }\n\n  render() {\n    if (this.context.theme.id === 0) return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 45\n    }, this);\n    const a = this.context.theme;\n    const o = this.state.temp;\n    const prim = a.hex.primary;\n    const sec = a.hex.secondary;\n    const circle = {\n      circle: {\n        backgroundColor: a.mode,\n        boxShadow: 'inset 0 0 15px rgba(0,0,0,0.5)'\n      },\n      innerCircle: {\n        backgroundColor: a.mode,\n        boxShadow: 'inset 0 0 75px rgba(0,0,0,0.5)'\n      },\n      grad: {\n        backgroundImage: a.grad,\n        boxShadow: 'inset 0 0 15px rgba(0,0,0,0.5)'\n      }\n    };\n    const clockstyles = {\n      border: `1px solid ${a.rev}`,\n      text: a.rev,\n      bg: GetMode(a, '0.5')\n    };\n    const icon = `https://openweathermap.org/img/w/${o.weather[0].icon}.png`;\n    const grad = `linear-gradient(to bottom, ${sec}, ${prim})`;\n    return /*#__PURE__*/_jsxDEV(SpCircle, {\n      styles: circle,\n      data: a,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"water\",\n        style: {\n          background: grad\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"water-circle one\",\n        style: {\n          backgroundColor: a.mode\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"water-circle two\",\n        style: {\n          backgroundColor: a.mode\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box-shadow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"temp-cont flex-col\",\n        style: {\n          color: a.rev\n        },\n        children: [/*#__PURE__*/_jsxDEV(Img, {\n          src: icon,\n          styles: {\n            width: '60%',\n            marginBottom: '-1rem'\n          },\n          alt: o.weather[0].description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            padding: '0'\n          },\n          children: [o.main.temp, \"\\xB0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: /*#__PURE__*/_jsxDEV(Today, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Clock, {\n          data: clockstyles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nTempCir.contextType = ThemeContext;\nexport default Temperature;","map":{"version":3,"sources":["/home/marcos/app/marccent/client/src/components/mini-app/temperature.js"],"names":["React","Component","Fragment","ThemeContext","JwPagination","ValidForm","Today","Img","SpCircle","GetMode","Clock","Accordion","Maps","openWeather","process","env","REACT_APP_OPENWEATHERURL","token","REACT_APP_OPENWEATHER","Temperature","state","query","city","onClick","update","onChange","e","setState","target","value","componentDidMount","res","fetch","data","json","cod","render","a","context","theme","sec","background","mode","bg","grad","color","hex","light","input","border","primary","backgroundColor","marginRight","mapData","loc","lat","coord","lng","lon","zoom","glass","name","population","flexWrap","width","alignItems","padding","list","marginTop","height","contextType","WeatherHistory","constructor","props","items","pageOfItems","onChangePage","bind","UNSAFE_componentWillReceiveProps","id","map","item","index","List","o","icon","weather","console","log","description","main","temp","dt_txt","temp_min","temp_max","feels_like","humidity","TempCir","prim","secondary","circle","boxShadow","innerCircle","backgroundImage","clockstyles","rev","text","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { ThemeContext } from \"../var\"\nimport JwPagination from 'jw-react-pagination';\nimport ValidForm from 'react-valid-form-component';\nimport \"../../styles/mini-app/Temperature.scss\";\nimport '../../styles/keyframes.scss';\nimport { Today, Img, SpCircle, GetMode } from \"../inc/inc\";\nimport { Clock, Accordion } from \"../inc/inc-classes\";\nimport Maps from \"../map\";\nconst openWeather = `${process.env.REACT_APP_OPENWEATHERURL}data/2.5/forecast`;\nconst token = `&units=imperial&appid=${process.env.REACT_APP_OPENWEATHER}`;\n\nclass Temperature extends Component {\n\n    static contextType = ThemeContext;\n    state = {\n      query: false,\n      city: false\n    }\n    \n    componentDidMount() {\n      this.setState({\n        query: 'Idaho Falls',\n      }, () => this.update());\n    }\n\n    async update() {\n      const res = await fetch(`${openWeather}?q=${this.state.query}${token}`);\n      const data = await res.json();\n      if (data.cod === \"200\") {\n        this.setState({\n          city: data\n        });\n      } \n    }\n\n    onClick = () => this.update();\n\n    onChange = (e) => this.setState({query: e.target.value});\n\n    render() {\n      if (!this.state.city) return <Fragment>Loading...</Fragment>\n      const a = this.context.theme;\n      const e = this.state.city;\n      const sec = {\n        background: a.mode,\n      }\n      const bg = {\n        background: a.grad,\n        color: a.hex.light\n      }\n      const input = {\n        border: `solid 1px ${a.hex.primary}`,\n        backgroundColor: a.mode,\n        marginRight: '3px !important'\n      }\n      const mapData = {\n        loc: {\n          lat: e.city.coord.lat,\n          lng: e.city.coord.lon\n        },\n        zoom: 11\n      }\n      let background = `container flex-row${a.glass ? ' glass' : ''}`;\n      return  (\n        <section className=\"temp flex-center\">\n          <div className={background} style={sec}>\n            <div className=\"header flex-row w-100\">\n              <h3>{e.city.name}'s Population: {e.city.population}</h3>\n              <ValidForm nosubmit onSubmit={(e) => this.onClick()} className=\"flex-row contact-info\" style={{flexWrap: 'nowrap'}}>\n                <input \n                  name=\"city\"\n                  type=\"text\" \n                  required\n                  placeholder={this.state.query} \n                  style={input} \n                  onChange={this.onChange} \n                />\n                <span style={{width: '10px'}}></span>\n                <button className=\"btn\" style={bg} type=\"submit\">Send Form</button>\n              </ValidForm>\n            </div>\n            <div className=\"w-50 flex-col\" style={{alignItems: 'center', padding: '0 3rem'}}>\n              <TempCir temp={e.list[0]} />\n              <div className=\"map-size\" style={{marginTop: '2rem', height: '400px'}}>\n                <Maps mapData={mapData} />\n              </div>\n            </div>\n            <div className=\"w-50\" style={{padding: '0 3rem'}}>\n              <h3>Weather History</h3>\n              <WeatherHistory list={e.list} />\n            </div>\n          </div>\n        </section>\n      )        \n    }\n}\n\nclass WeatherHistory extends Component {\n\n  static contextType = ThemeContext;\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: this.props.list,\n      pageOfItems: []\n    }\n    this.onChangePage = this.onChangePage.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      items: props.list\n    });\n  }\n  \n  onChangePage(pageOfItems) {\n    this.setState({ pageOfItems: pageOfItems }); // update local state with new page of items\n  }\n  \n  render() {\n    if (this.context.theme.id === 0) return <Fragment>Loading...</Fragment>\n    const a = this.context.theme;\n    return (\n      <div className=\"flex-row history\">\n        {this.state.pageOfItems.map((item, index) => (\n          <List key={index} data={a} item={item} />\n        ))}\n        <JwPagination pageSize={10} items={this.state.items} onChangePage={this.onChangePage} />\n      </div>\n    )\n  }\n}\n\nclass List extends Component {\n    \n  static contextType = ThemeContext;\n  render() {\n    if (this.context.theme.id === 0) return <Fragment>Loading...</Fragment>\n    const a = this.context.theme;\n    const o = this.props.item;\n    const icon = `${process.env.REACT_APP_OPENWEATHERURL}img/w/${o.weather[0].icon}.png`;\n    const bg = {\n      background: a.grad,\n      color: a.hex.light\n    }\n    console.log(o);\n    return (\n      <div className=\"list-outer shadow-s\" style={{background: a.mode}}>\n        <div style={bg} className=\"list-inner shadow-xs\">\n        <Accordion>\n          <span className=\"head-content\">\n            <Img src={icon} styles={{width: '40px'}} alt={o.weather[0].description} />\n            <strong>{o.main.temp}&#176;</strong>\n            <span>{o.dt_txt}</span>\n          </span>\n          <div className=\"body-content flex-row\">\n            <div style={{width:'50%',padding: '0.5rem'}} className=\"flex-col\">\n              <span>Low: {o.main.temp_min}</span>\n              <span>High: {o.main.temp_max}</span>\n              <span>Feels like: {o.main.feels_like}</span>\n            </div>\n            <div style={{width:'50%',padding: '0.5rem'}} className=\"flex-col\">\n              <strong>{o.weather[0].description}</strong>\n              <span>Humidity: {o.main.humidity}</span>\n            </div>\n          </div>\n        </Accordion>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass TempCir extends Component {\n\n  static contextType = ThemeContext;\n  constructor(props) {\n    super(props);\n    this.state = {\n      temp: this.props.temp\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      temp: props.temp\n    });\n  }\n\n  render() {\n    if (this.context.theme.id === 0) return <Fragment>Loading...</Fragment>\n    const a = this.context.theme;\n    const o = this.state.temp;\n    const prim = a.hex.primary;\n    const sec = a.hex.secondary;\n    const circle = {\n      circle: {\n        backgroundColor: a.mode,\n        boxShadow: 'inset 0 0 15px rgba(0,0,0,0.5)'\n      },\n      innerCircle: {\n        backgroundColor: a.mode,\n        boxShadow: 'inset 0 0 75px rgba(0,0,0,0.5)'\n      },\n      grad: {\n        backgroundImage: a.grad,\n        boxShadow: 'inset 0 0 15px rgba(0,0,0,0.5)'\n      }\n    }\n    const clockstyles = {\n      border: `1px solid ${a.rev}`,\n      text: a.rev,\n      bg: GetMode(a, '0.5')\n    }\n    const icon = `https://openweathermap.org/img/w/${o.weather[0].icon}.png`;\n    const grad = `linear-gradient(to bottom, ${sec}, ${prim})`;\n    return (\n      <SpCircle styles={circle} data={a}>\n        <div className=\"water\" style={{ background: grad }}></div>\n        <div className=\"water-circle one\" style={{ backgroundColor: a.mode }}></div>\n        <div className=\"water-circle two\" style={{ backgroundColor: a.mode }}></div>\n        <div className=\"box-shadow\"></div>\n        <div className=\"temp-cont flex-col\" style={{color: a.rev}}>\n          <Img src={icon} styles={{width: '60%', marginBottom: '-1rem'}} alt={o.weather[0].description} />\n          <h3 style={{padding: '0'}}>{o.main.temp}&#176;</h3>\n          <small><Today /></small>\n          <Clock data={clockstyles} />\n        </div>\n      </SpCircle>\n    )\n  }\n}\nexport default Temperature;"]},"metadata":{},"sourceType":"module"}